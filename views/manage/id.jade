!= partial('topnavbar.jade')
	.container-fluid
		.row-fluid
			.span2
				!= partial('sidebar.jade')
			//tabs view
			.span10
					ul(data-bind="foreach: tabs").nav.nav-tabs
						li(data-bind="css:{active: $data == $root.chosenTabId()}, click: $root.goToTab")
							a(data-bind="text: $data")
			.span10
				//individual ticket view
				//section only shown if chosenTicketData has content
				section(data-bind="with: chosenTicketData").span10
					br
					ul.unstyled
						li
							.btn-toolbar.pull-right
								.btn-group
									button(data-bind="css:{disabled: true}").btn.disabled Edit Ticket
									button(data-bind="css:{disabled: true}").btn Change Status
								.btn-group
									button(data-bind="click: $root.closeTicket, disable: status()=='Closed', css:{disabled: status()=='Closed'}").btn.btn-success Close Ticket
						li
							p <span class="label label-info">ID</span> <span data-bind="text: _id"></span>
						li
							p <span class="label label-info">age</span> <span data-bind="text: age"></span> - <span data-bind="text: friendlydate"></span>
						li
							p <span class="label label-info">status</span> <span data-bind="text: status()"></span>
						li
							p <span class="label label-info">impact</span> <span class="badge" data-bind="text: impact"></span>
						li
							p <span class="label label-info">from:</span> <strong data-bind="text: from"></strong>
					hr
					h1(data-bind="text: subject")
					hr
				// section only shown if chosenTicketData has content, additional visible tag to css hide well even when no data
				section(data-bind="with: chosenTicketData, visible: chosenTicketData()").span10.well
					p(data-bind="html: description")

script(src="/js/lib/moment.min.js")					
script(src="/js/lib/sammy.min.js")					
script(src='/js/manage-ticket-viewmodel.js')



